'use strict';

var _InstantSearch = require('../InstantSearch');

var _InstantSearch2 = _interopRequireDefault(_InstantSearch);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var usage = '\nUsage: instantsearch({\n  indexName: \'my_index_name\',\n  searchClient: algoliasearch(\'appId\', \'apiKey\')\n});';

// THROWAWAY: Test suite to remove once the next major version is released
/* eslint no-new: off */
describe('InstantSearch API collision', function () {
  describe('with search client', function () {
    var appId = 'appId';
    var apiKey = 'apiKey';
    var indexName = 'indexName';
    var searchClient = {
      search: function search() {}
    };

    it('and indexName', function () {
      expect(function () {
        new _InstantSearch2.default({
          indexName: indexName,
          searchClient: searchClient
        });
      }).not.toThrow();
    });

    it('and nothing else', function () {
      expect(function () {
        new _InstantSearch2.default({
          searchClient: searchClient
        });
      }).toThrow(usage);
    });

    it('and appId', function () {
      expect(function () {
        new _InstantSearch2.default({
          appId: appId,
          searchClient: searchClient
        });
      }).toThrow(usage);
    });

    it('and apiKey', function () {
      expect(function () {
        new _InstantSearch2.default({
          apiKey: apiKey,
          searchClient: searchClient
        });
      }).toThrow(usage);
    });

    it('and createAlgoliaClient', function () {
      expect(function () {
        new _InstantSearch2.default({
          createAlgoliaClient: function createAlgoliaClient() {},
          searchClient: searchClient
        });
      }).toThrow(usage);
    });
  });
});